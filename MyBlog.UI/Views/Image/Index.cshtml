@using X.PagedList.Mvc;
@using X.PagedList;

@model IPagedList <MyBlog.Data.Image>

@{
    Layout = "~/Views/Shared/_Dashbord.cshtml";

}

<div class="panel panel-default">
    <div class="panel-heading">
        <div><span class="fa fa-image fa-2x" aria-hidden="true"></span> Все изображения</div>
    </div>
    <div class="panel-body">
        <table class="table table-hover table-condensed">
            <tr class="com-resp">
                <th class="com-resp-th">Изображение</th>
                <th class="com-resp-th">Id</th>
                <th class="com-resp-th">Ссылка</th>
                <th class="com-resp-th">Размер</th>
                <th class="com-resp-th">Действия</th>
            </tr>

            @foreach (var item in Model)
            {
                <tr class="com-resp">
                    <td class="col-md-3 com-resp-td">
                        <a class="truncateOpt" href="/Upload/@item.Imagepath">
                            <div class="CutlongTitle">
                                <img src="/Upload/@item.Imagepath" alt="Image" height="150" class="dash-img-resp"/>
                              
                            </div>
                        </a>

                    </td>
                    <td class="col-md-2 com-resp-td">
                        <a class="truncateOpt" href="~/Upload/@item.Id">
                            <div class="CutlongTitle">
                                <p class="disabled">@item.Id</p>

                            </div>
                        </a>

                    </td>
                    <td class="col-md-2 com-resp-td">
                        <a class="truncateOpt" href="~/Upload/@item.Imagepath">
                            <div class="CutlongTitle">
                                <p class="disabled">/Upload/@item.Imagepath</p>

                            </div>
                        </a>

                    </td>
                    <td class="col-md-2 com-resp-td">
                        <a href="/Upload/@item.Imagepath">
                            <div>
                                @{ 
                                    var Mega = item.Size / 1024;
                                }
                                @Mega.ToString("N") Кб
                            </div>
                        </a>
                    </td>
                    
                    <td class="col-md-2">
                      
                       @Html.ActionLink(" ", "Delete", new { id = item.Id },new { @class= "btn btn-danger glyphicon glyphicon glyphicon-trash" })
                    </td>
                </tr>
            }

        </table>



    </div>
    <div class="panel-footer">
        @Html.ActionLink("Добавить изображение", "NewImage", null, new { @class = "btn btn-default" })


    </div>@*End of Panel Footer*@
</div>
<div>
 @Html.PagedListPager(Model, page => Url.Action("Index", new { page }))
</div>@*end of paging*@


